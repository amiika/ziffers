load "~/ziffers/ziffers.rb"

use_bpm 30

barrios = "| s 0 _4 #4 1 4 _4 0 _4 #4 1 4 _4  | s _6 _4 #4 1 4 _4 _6 _4 #4 1 4 _4  | s 1 _4 4 _6 3 _6 1 _4 4 _6 3 _4 | \
| s _0 _4 3 0 #1 _4 _0 _4 3 0 #1 _4  | s _#5 _4 3 0 #1 _4 _#5 _4 3 0 #1 _4  | s _5 _#3 #1 0 1 _#3 _5 _#3 #1 0 1 _#3 | \
| s _#4 _3 #1 0 1 _3 _#4 _3 #1 0 1 _3  | s _4 4 #1 0 1 _4 _4 4 #1 _4 1 _4  | s _4 _3 #1 0 1 _3 _4 _3 #1 _4 1 _3 | \
| s _4 _#1 1 _4 0 _#1 _4 _#1 1 _4 0 _#1  | s _4 _1 0 _3 _#5 _1 _4 _1 0 _3 _#5 _1  | s _4 _0 _#5 _#1 _#4 _0 _4 _0 _#5 _#1 _#4 _0 | \
| s _4 _6 _#4 _1 _4 _6 _4 _6 _#4 _1 _4 _6  | s _3 _1 1 _4 _6 _1 _3 _1 1 _4 _6 _1  | s _2 _4 4 _#5 #0 _4 _2 _#5 #4 #0 4 _#5 | \
| s _3 _#4 4 0 3 _#4 _3 _#4 4 0 3 _#4  | s _#1 _#4 #4 0 3 _#4 _#1 _#4 #4 0 3 _#4  | s _1 3 1 #4 0 3 _1 3 1 #4 0 3 | \
| s _#1 #1 #0 4 #0 #1 _#1 #1 #0 4 _#5 #1  | s _2 #0 #0 4 _#5 #0 _2 #0 #0 4 _#5 #0  | s _3 0 _#5 3 #4 0 _3 0 _#5 3 #4 0 | \
| s _1 0 _0 3 #4 0 _1 0 _0 3 #4 0  | s _4 _6 6 3 4 _6 _4 _6 _6 3 4 _6  | s _4 0 ^0 #1 4 0 _4 0 ^0 #1 4 0 | \
| s _3 0 ^0 #1 #4 0 _3 0 ^0 #1 #4 0  | s _3 _#5 #5 1 #4 _#5 _3 _#5 #5 1 #4 _#5  | s _#1 _#5 #5 #1 4 _#5 _#1 _#5 #5 #1 4 _#5 | \
| s _3 _#4 #4 1 3 _#4 __3 _#4 #4 1 3 _#4  | s __4_5 _4 4 0 #1 _4 __4 _4 4 0 #1 _4  | s __4 _4 3 _6 1 _4 __4 _4 3 _6 1 _4  |"

m = zparse barrios, synth: :kalimba

zplay markov_analyzer m, 4
